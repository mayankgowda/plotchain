# Public Release Checklist

This checklist helps ensure the codebase is ready for public release (e.g., on GitHub).

## ‚úÖ Security & Sensitive Information

### API Keys & Secrets
- [x] **API keys use environment variables** - All API keys are read from `os.environ`:
  - `ANTHROPIC_API_KEY` (line 851 in `run_plotchain_eval.py`)
  - OpenAI and Gemini use default clients (read from standard env vars)
- [x] **No hardcoded secrets** - Verified no API keys in code
- [ ] **Add `.env.example`** - Create example file showing required env vars:
  ```bash
  # .env.example
  ANTHROPIC_API_KEY=your_key_here
  OPENAI_API_KEY=your_key_here  # If using OpenAI
  GOOGLE_API_KEY=your_key_here  # If using Gemini
  ```
- [ ] **Update .gitignore** - Ensure `.env` is ignored (add if missing)

### Debug Files
- [ ] **Remove debug logs** - Check for and remove:
  - `gemini_api_responses_debug.jsonl` (created in `gemini_call()`)
  - Any other debug/temp files
- [ ] **Update code** - Either remove debug logging or make it optional via flag

## üìù Documentation

### README Updates
- [ ] **Update README.md** - Current README is outdated:
  - Update dataset name from "PlotChain v1" to "PlotChain"
  - Update file paths (`plotchain_v1.jsonl` ‚Üí `plotchain.jsonl`)
  - Add installation instructions
  - Add usage examples
  - Add citation information
  - Add link to paper (when published)
- [ ] **Add LICENSE file** - Choose and add license (MIT, Apache 2.0, etc.)
- [ ] **Add CONTRIBUTING.md** (optional) - If accepting contributions
- [ ] **Add CITATION.cff** (optional) - For citation metadata

### Code Documentation
- [ ] **Docstrings** - Verify all main functions have docstrings
- [ ] **Comments** - Ensure complex logic is commented
- [ ] **Type hints** - Already present in most functions ‚úÖ

## üì¶ Dependencies & Environment

### Requirements Files
- [x] **requirements.txt exists** - Contains main dependencies
- [x] **requirements_analysis.txt exists** - Contains analysis dependencies
- [ ] **Create requirements-dev.txt** (optional) - For development dependencies
- [ ] **Add version pins** - Consider pinning exact versions for reproducibility
- [ ] **Document Python version** - Add note about required Python version (e.g., Python 3.9+)

### Setup Instructions
- [ ] **Add installation section to README**:
  ```bash
  pip install -r requirements.txt
  pip install -r requirements_analysis.txt  # For analysis scripts
  ```

## üóÇÔ∏è File Organization

### Data Files
- [ ] **Dataset size** - Check if `data/plotchain/` should be:
  - Included in repo (if < 100MB)
  - Hosted separately (if large)
  - Added to `.gitignore` with instructions to download
- [ ] **Results directory** - Decide if `results/` should be:
  - Included (for reproducibility)
  - Excluded (add to `.gitignore`)
  - Hosted separately
- [ ] **Analysis outputs** - Decide if `analysis_output/` should be:
  - Included (for paper reproducibility)
  - Excluded (regenerated by users)

### Temporary/Development Files
- [ ] **Review `paper_notes/`** - These are draft notes, decide:
  - Keep as-is (helpful for users)
  - Move to `docs/` or `docs/paper/`
  - Remove (if too draft-like)
- [ ] **Review `deprecated/`** - If exists, decide to keep or remove
- [ ] **Check for test files** - Review if any test/debug scripts should be removed

### .gitignore Updates
- [ ] **Add common ignores**:
  ```
  # Environment variables
  .env
  .env.local
  
  # API debug logs
  *_debug.jsonl
  *_debug.json
  
  # Large data/results (if not hosting)
  # results/
  # analysis_output/
  
  # OS files (already present ‚úÖ)
  # Editor files (already present ‚úÖ)
  ```

## üîß Code Quality

### Code Cleanup
- [ ] **Remove commented-out code** - Clean up any large commented blocks
- [ ] **Remove print statements** - Replace with proper logging if needed
- [ ] **Fix syntax warnings** - Already fixed ‚úÖ
- [ ] **Standardize imports** - Ensure consistent import style

### Error Handling
- [ ] **Review error messages** - Ensure user-friendly messages
- [ ] **Add input validation** - Verify command-line args are validated
- [ ] **Handle missing files gracefully** - Check for FileNotFoundError handling

## üìä Reproducibility

### Documentation
- [x] **MANIFEST.md exists** - Documents reproducibility ‚úÖ
- [ ] **Verify MANIFEST.md is up-to-date** - Check all checksums and paths
- [ ] **Add reproducibility section to README** - Link to MANIFEST.md

### Version Pinning
- [ ] **Consider requirements-lock.txt** - For exact reproducibility
- [ ] **Document seed values** - Already documented in MANIFEST.md ‚úÖ

## üöÄ Release Preparation

### Pre-Release Steps
- [ ] **Run full analysis** - Ensure all scripts work end-to-end
- [ ] **Test on clean environment** - Test installation from scratch
- [ ] **Generate all outputs** - Ensure tolerance table, parsing rules, etc. generate correctly
- [ ] **Review generated files** - Check outputs for correctness

### GitHub-Specific
- [ ] **Create .github/ directory** (optional):
  - `.github/workflows/` - CI/CD workflows
  - `.github/ISSUE_TEMPLATE/` - Issue templates
  - `.github/PULL_REQUEST_TEMPLATE.md` - PR template
- [ ] **Add topics/tags** - For GitHub discoverability
- [ ] **Create releases** - Tag versions (v1.0.0, etc.)

## üìã Recommended File Structure

```
plotchain_v1/
‚îú‚îÄ‚îÄ README.md                    # Main documentation (UPDATE NEEDED)
‚îú‚îÄ‚îÄ LICENSE                      # License file (CREATE)
‚îú‚îÄ‚îÄ MANIFEST.md                  # Reproducibility manifest ‚úÖ
‚îú‚îÄ‚îÄ .gitignore                   # Git ignore rules (UPDATE NEEDED)
‚îú‚îÄ‚îÄ requirements.txt             # Main dependencies ‚úÖ
‚îú‚îÄ‚îÄ requirements_analysis.txt    # Analysis dependencies ‚úÖ
‚îÇ
‚îú‚îÄ‚îÄ generate_plotchain.py        # Dataset generator ‚úÖ
‚îú‚îÄ‚îÄ run_plotchain_eval.py        # Evaluation script ‚úÖ
‚îú‚îÄ‚îÄ concurrent_eval.py           # Concurrent evaluation ‚úÖ
‚îú‚îÄ‚îÄ analyze_plotchain_results.py  # Analysis script ‚úÖ
‚îú‚îÄ‚îÄ generate_tolerance_table.py   # Standalone tolerance generator ‚úÖ
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ plotchain/               # Dataset (DECIDE: include or host separately)
‚îÇ       ‚îú‚îÄ‚îÄ plotchain.jsonl
‚îÇ       ‚îî‚îÄ‚îÄ images/
‚îÇ
‚îú‚îÄ‚îÄ docs/                        # Documentation (CREATE)
‚îÇ   ‚îú‚îÄ‚îÄ PARSING_RULES.md         # Parsing rules documentation
‚îÇ   ‚îî‚îÄ‚îÄ paper/                   # Paper-related docs (optional)
‚îÇ       ‚îî‚îÄ‚îÄ reviewer_notes/
‚îÇ
‚îú‚îÄ‚îÄ .github/                     # GitHub configs (OPTIONAL)
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ
‚îî‚îÄ‚îÄ [results/]                   # Evaluation results (DECIDE: include or exclude)
```

## üéØ Quick Start Commands

After addressing checklist, users should be able to:

```bash
# 1. Clone repository
git clone <repo_url>
cd plotchain_v1

# 2. Install dependencies
pip install -r requirements.txt
pip install -r requirements_analysis.txt

# 3. Set up API keys (if running evaluations)
export ANTHROPIC_API_KEY=your_key
export OPENAI_API_KEY=your_key  # If needed
export GOOGLE_API_KEY=your_key   # If needed

# 4. Generate dataset (if not included)
python3 generate_plotchain.py --out_dir data/plotchain --n_per_family 30 --seed 0

# 5. Run evaluation (optional)
python3 run_plotchain_eval.py --jsonl data/plotchain/plotchain.jsonl \
  --models openai:gpt-4.1 --out_dir results --mode run --policy plotread

# 6. Analyze results
python3 analyze_plotchain_results.py --runs_dir results --output_dir analysis_output

# 7. Generate tolerance table (standalone)
python3 generate_tolerance_table.py --output_dir analysis_output
```

## ‚úÖ Priority Items (Must Do Before Release)

1. **Update README.md** - Critical for users to understand the project
2. **Add LICENSE file** - Required for open source
3. **Update .gitignore** - Add `.env` and debug files
4. **Remove/clean debug files** - Remove `gemini_api_responses_debug.jsonl` generation or make optional
5. **Decide on data hosting** - Include dataset or host separately
6. **Test installation** - Ensure it works on clean environment

## üìù Notes

- API keys are already handled safely via environment variables ‚úÖ
- Code is well-structured and documented ‚úÖ
- Reproducibility documentation exists ‚úÖ
- Main work needed: README updates, LICENSE, and data hosting decision
